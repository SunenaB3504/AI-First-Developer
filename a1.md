AI Development Prompt: A1 - Phase 2: User Progress Tracking

ðŸŽ¯ Primary Objective
Your task is to implement the foundational features for the **User Progress Tracking System**. This involves creating the backend data model in Firestore to store user completion data and integrating it with the frontend to visually distinguish completed lessons in the `LearningPath` component.

ðŸ“œ Mandatory Adherence to Documentation
This task must be executed with strict and complete adherence to the project's foundational document: `AI_DEVELOPMENT_PROMPT.md`. Before writing any code, you must re-read and internalize all guidelines, especially those related to Modular Architecture, Data Layer abstraction, and Security.

ðŸ”„ Execution Workflow
You must follow this workflow precisely. Do not deviate.

Step 1: Create Backend Service for Progress Tracking

1.  **Define Data Model**: The data will be stored in a top-level Firestore collection named `userProgress`. Each document in this collection will be keyed by the `userId`. The document will contain a single field, `completedLessons`, which is an array of strings, where each string is a lesson `id`.
2.  **Create Service File**: Create a new file at `src/services/progressService.js`.
3.  **Implement Service Functions**: Within `progressService.js`, implement and export functions to interact with Firestore, such as:
    *   `getUserProgress(userId)`: Fetches the array of completed lesson IDs for a given user.
    *   `updateUserProgress(userId, lessonId)`: Adds a new `lessonId` to the user's `completedLessons` array. Ensure this operation is idempotent (it shouldn't add duplicates).

Step 2: Integrate Progress Data into the Frontend

1.  **Create Progress Context**: Create a new file at `src/context/ProgressContext.jsx`. This context will manage the user's progress state, fetch it using the `progressService`, and provide it to child components.
2.  **Provide Context**: In your main application component (e.g., `App.jsx`), wrap the component tree with the `ProgressProvider` so that any component can access the progress data.
3.  **Consume Context in LearningPath**: Modify `src/components/learning/LearningPath.jsx` to consume the `ProgressContext`.
4.  **Update UI**: Based on the progress data, add a `completed` class to the lesson and module nodes in `LearningPath.jsx` if the lesson/module is complete.
5.  **Style Completed State**: In `src/components/learning/LearningPath.css`, add styles for the `.completed` class to visually distinguish completed items (e.g., a checkmark icon, a change in color, or reduced opacity).

Step 3: Update the Development Plan

Immediately after successfully implementing the feature, edit `DEVELOPMENT_PLAN.md`:
1.  In the "Phase 2: Core Learning Experience" section, find the "Features" list.
2.  Update the line `[ ] Implement the progress tracking UI (progress bars, chapter completion status)` to be `[x] Implement the progress tracking UI (progress bars, chapter completion status)`.

Step 4: Final Adherence Check

After updating the plan, perform a final self-review.
Briefly re-read all new and modified files (e.g., `progressService.js`, `ProgressContext.jsx`, `LearningPath.jsx`, `LearningPath.css`) and confirm that they comply with all documented guidelines in `AI_DEVELOPMENT_PROMPT.md`, including the comprehensive sanitization rules. State your confirmation of this check in your final response.

âœ… Success Criteria
1.  The `progressService.js` file is created with functions to manage user progress in Firestore.
2.  The `ProgressContext.jsx` is created and successfully provides progress data to the component tree.
3.  The `LearningPath` component correctly consumes the context and visually marks lessons as completed.
4.  `DEVELOPMENT_PLAN.md` is accurately updated to reflect the completion of the task.
5.  Your final response confirms that the adherence check was completed for all generated files.
